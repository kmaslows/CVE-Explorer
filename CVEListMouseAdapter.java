package kamil.cve;

import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.io.IOException;

import javax.swing.JList;

import org.apache.logging.log4j.LogManager;
import org.apache.logging.log4j.Logger;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;

/**
 * Mouse Adapter for handling clicking on entries in CVEList
 * @author Kamil Mas³owski
 *
 */
public class CVEListMouseAdapter extends MouseAdapter {
	static Logger log = LogManager.getLogger();

	/**
	 * When entry is clicked two times, retrieve clicked object and trigger 
	 * displaying of the entry in new window.
	 */
	public void mouseClicked(MouseEvent evt) {
		JList list = (JList)evt.getSource();
		// check if clicked two times
		if (evt.getClickCount() == 2) {
			// find index of clicked object
			int index = list.locationToIndex(evt.getPoint());
			// retrieve clicked object using index
			CVEListEntry entry = (CVEListEntry)list.getModel().getElementAt(index);
			log.info("Object clicked: " + entry.entryNumber);
			// trigger displaying of the entry in new window
			Entry.getAndDisplay(entry.entryNumber);
		}

	}
}
